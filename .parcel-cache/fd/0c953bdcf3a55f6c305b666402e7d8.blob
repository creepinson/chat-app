var helpers = require("../../../node_modules/@parcel/transformer-react-refresh-wrap/lib/helpers/helpers.js");
var prevRefreshReg = window.$RefreshReg$;
var prevRefreshSig = window.$RefreshSig$;
helpers.prelude(module);
try {
  var _parcelHelpers = require("@parcel/transformer-js/lib/esmodule-helpers.js");
  _parcelHelpers.defineInteropFlag(exports);
  var _react = require("react");
  var _reactDefault = _parcelHelpers.interopDefault(_react);
  var _socketIoClient = require("socket.io-client");
  require("./app.scss");
  var _chakraUiReact = require("@chakra-ui/react");
  var _jsxFileName = "/home/theo/Documents/chat/packages/client/src/App.tsx", _s = $RefreshSig$();
  const socket = _socketIoClient.io(`${undefined || "localhost:8080"}`);
  function App() {
    _s();
    const [message, setMessage] = _react.useState("");
    const [messages, setMessages] = _react.useState([]);
    _react.useEffect(() => {
      socket.on("message", m => setMessages([...messages, m]));
    }, [messages]);
    return (
      /*#__PURE__*/_reactDefault.default.createElement(_chakraUiReact.Flex, {
        bg: "gray.800",
        flexDirection: "column",
        justifyContent: "center",
        alignItems: "center",
        minH: "200",
        __self: this,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 25,
          columnNumber: 9
        }
      }, /*#__PURE__*/_reactDefault.default.createElement(_chakraUiReact.Text, {
        mb: "1em",
        __self: this,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 32,
          columnNumber: 13
        }
      }, "Rollup + TypeScript + Socket.io + React = ❤️"), /*#__PURE__*/_reactDefault.default.createElement(_chakraUiReact.FormControl, {
        id: "message",
        w: "75",
        mb: "1em",
        __self: this,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 33,
          columnNumber: 13
        }
      }, /*#__PURE__*/_reactDefault.default.createElement(_chakraUiReact.FormLabel, {
        __self: this,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 34,
          columnNumber: 17
        }
      }, "Message"), /*#__PURE__*/_reactDefault.default.createElement(_chakraUiReact.Input, {
        color: "white",
        type: "text",
        value: message,
        onChange: ev => setMessage(ev.target.value),
        __self: this,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 35,
          columnNumber: 17
        }
      })), /*#__PURE__*/_reactDefault.default.createElement(_chakraUiReact.Button, {
        mb: "1em",
        onClick: () => socket.emit("sendMessage", message),
        __self: this,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 42,
          columnNumber: 13
        }
      }, "Send"), /*#__PURE__*/_reactDefault.default.createElement(_chakraUiReact.Flex, {
        id: "messageList",
        flexDirection: "column",
        bg: "gray.700",
        w: "full",
        minH: "100",
        __self: this,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 48,
          columnNumber: 13
        }
      }, messages.map((m, i) => /*#__PURE__*/_reactDefault.default.createElement(_chakraUiReact.Text, {
        key: i,
        __self: this,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 50,
          columnNumber: 21
        }
      }, m))))
    );
  }
  exports.default = App;
  _s(App, "r7oSiqxTwlZ7iaM02ZQHmIPeE1o=");
  _c = App;
  var _c;
  $RefreshReg$(_c, "App");
  helpers.postlude(module);
} finally {
  window.$RefreshReg$ = prevRefreshReg;
  window.$RefreshSig$ = prevRefreshSig;
}
